:root{--bg:#070812; --fg:#e7ecf1; --muted:#94a3b8; --accent:#8b5cf6; --accent-2:#22d3ee}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:#070812;color:var(--fg);font-family:ui-monospace,Consolas,monospace}
.app{display:grid;grid-template-columns:320px 1fr;min-height:100dvh}
.sidebar{position:fixed;left:0;top:0;bottom:0;width:320px;height:100dvh;padding:16px;border-right:1px solid rgba(148,163,184,.12);background:linear-gradient(180deg,rgba(10,12,22,.9),rgba(7,8,18,.85));z-index:5}
.menu-btn{position:fixed;left:12px;top:12px;z-index:5;display:none;cursor:pointer;padding:10px 12px;border-radius:12px;border:1px solid rgba(148,163,184,.2);background:#0b0f1f;color:#e2e8f0;font-weight:700}
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);opacity:0;pointer-events:none;z-index:4;transition:opacity .2s ease}
.navbar{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.navbar .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent-2));filter:drop-shadow(0 0 16px rgba(139,92,246,.35))}
.navbar h1{font-size:14px;letter-spacing:.14em;text-transform:uppercase;margin:0;color:#cbd5e1}
.big-timer{font-size:clamp(28px,4vw,48px);line-height:1.1;font-weight:700;letter-spacing:.04em;margin:8px 0 4px;display:flex;flex-wrap:wrap;gap:.15em;text-shadow:0 0 30px rgba(136,84,246,.25)}
.big-timer .digit{display:inline-block;padding:0 .02em}
.subline{color:var(--muted);font-size:12px;margin-top:2px}
.controls{margin:16px 0 10px;display:grid;gap:10px}
.row{display:flex;align-items:center;gap:10px}
.entropy{height:10px;border-radius:999px;background:#0b1020;overflow:hidden;border:1px solid rgba(148,163,184,.18)}
.entropy .fill{height:100%;background:linear-gradient(90deg,var(--accent) 0%, var(--accent-2) 100%);box-shadow:0 0 24px rgba(34,211,238,.25) inset;transition:width .25s ease}
.btn{cursor:pointer;padding:10px 12px;border-radius:12px;border:1px solid rgba(148,163,184,.2);background:#0b0f1f;color:#e2e8f0;font-weight:600;font-size:12px;letter-spacing:.02em}
.jump-list{margin-top:10px;display:flex;flex-direction:column;gap:8px;overflow:auto}
.jump-item{display:grid;gap:4px;padding:10px;border-radius:12px;border:1px solid rgba(148,163,184,.12);background:rgba(11,15,31,.5);cursor:pointer}
.jump-item:hover{border-color:rgba(34,211,238,.35)}
.jump-item .label{font-size:12px}
.jump-item .time{font-size:11px;color:#94a3b8}
.main{position:relative;min-height:100dvh}
canvas#gl{position:fixed;inset:0;z-index:0;display:block}
.hud{position:fixed;left:320px;right:0;top:0;padding:10px 16px;display:flex;justify-content:center;pointer-events:none;z-index:3}
.odometer{pointer-events:auto;margin-top:8px;padding:8px 12px;border-radius:14px;border:1px solid rgba(148,163,184,.18);background:rgba(6,8,16,.7);box-shadow:0 10px 40px rgba(0,0,0,.45);display:inline-flex;align-items:center;gap:8px;backdrop-filter:blur(4px)}
.odometer .label{font-size:11px;color:#a5b4fc;letter-spacing:.1em;text-transform:uppercase}
.odometer .value{font-size:clamp(18px,2.4vw,32px);font-variant-numeric:tabular-nums;white-space:normal;word-break:break-all;overflow-wrap:anywhere;opacity:.9}
.units{font-size:12px;color:#94a3b8}
.scroll-rail{position:relative;z-index:1;width:100%;padding-left:320px}
.rail{height:240000px;position:relative;background:radial-gradient(400px 300px at 50% 120px, rgba(34,211,238,.08), rgba(0,0,0,0) 60%),linear-gradient(180deg, rgba(139,92,246,.04), rgba(34,211,238,.02))}
.marker{position:absolute;left:50%;transform:translateX(-50%);border-left:2px dashed rgba(226,232,240,.2);height:60px;width:0}
.tooltip{position:absolute;transform:translate(-50%, -8px);left:50%;top:-6px;padding:8px 10px;border:1px solid rgba(148,163,184,.18);background:rgba(7,10,20,.9);border-radius:10px;font-size:12px;white-space:nowrap}
.section-note{position:absolute;left:50%;transform:translateX(-50%);width:min(780px,72vw);padding:12px 14px;border:1px solid rgba(148,163,184,.16);border-radius:14px;background:rgba(10,13,24,.8);backdrop-filter:blur(6px);box-shadow:0 10px 30px rgba(0,0,0,.35)}
.section-note h3{margin:0 0 4px 0;font-size:14px}
.section-note p{margin:0;color:#94a3b8;font-size:12px;line-height:1.5}
.footer{position:fixed;left:320px;right:0;bottom:8px;display:flex;justify-content:center;z-index:3;pointer-events:none}
.footer .bar{pointer-events:auto;display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:14px;background:rgba(6,8,16,.9);border:1px solid rgba(148,163,184,.18)}
input[type="range"]{width:min(60vw,900px)}
.meta{font-size:11px;color:#94a3b8}
.now-btn{margin-left:6px}

/* Context stack bottom-right */
.context-stack{position:fixed;right:12px;bottom:12px;z-index:3;display:flex;flex-direction:column;gap:8px;align-items:flex-end;max-width:min(440px,64vw)}
.context-card{padding:10px 12px;border-radius:12px;border:1px solid rgba(148,163,184,.18);background:rgba(6,8,16,.82);backdrop-filter:blur(4px);box-shadow:0 6px 24px rgba(0,0,0,.35)}
.context-card .title{font-size:12px;color:#cbd5e1}
.context-card .text{font-size:12px;color:#94a3b8;margin-top:4px}
.context-card .link{font-size:11px;color:#94a3b8;text-decoration:underline;margin-top:6px;display:inline-block}

/* Responsive sidebar as floating panel with burger */
@media (max-width: 1024px){
  .app{grid-template-columns:1fr}
  .sidebar{width:min(88vw,380px);max-width:92vw;padding:16px;border-right:1px solid rgba(148,163,184,.18);box-shadow:0 10px 40px rgba(0,0,0,.5);transform:translateX(-100%);transition:transform .25s ease;background:linear-gradient(180deg,rgba(10,12,22,.96),rgba(7,8,18,.92))}
  .menu-btn{display:inline-block}
  .hud{left:0}
  .scroll-rail{padding-left:0}
  body.sidebar-open .sidebar{transform:translateX(0)}
  body.sidebar-open .backdrop{opacity:1;pointer-events:auto}
}

